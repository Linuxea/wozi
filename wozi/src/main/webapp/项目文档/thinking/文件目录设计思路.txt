<!-- 2016-12-17 begin -->
设计一张目录表
用来存放用户目录以及目录之间的关系
table name : "tb_wozi_note_menu",
字段:id   parent   text(默认表示名称)  flag（0表示目录，1表示文件) ref_user(关联的用户)
sql:  "create table tb_wozi_note_menu (
	id varchar(36) primary key,
	parent varchar(36) default "#",
	text varchar(36),
	flag varchar(1) default 0,
    ref_user varchar(36) ,
    constraint foreign key (ref_user) references tbwoziuser(id) ON delete cascade
    )engine=innoDB default charset=utf8
)",
附： 在做的时候思考了一下，考虑到实现上的一些问题，以及目录的更好管理，设定每个用户都用一个root根目录。
<!-- 2016-12-17 end -->

<!-- 2016-12-18 begin -->
实现添加目录节点的功能
根据jstree api，添加新目录的自动命名一个默认名称，保存到数据库
重命名一个目录 ， 更新到数据库
<!-- 2016-12-18 end -->

<!-- 2016-12-19 begin -->
修正
在页面新创建节点的时候，遇到了重命名的问题：
具体问题是重命名的节点Id并不是新生成节点的Id,而是右键选中新创建节点的那个id
所以需要将当前id的字段保存为新生成节点的Id
而这样的话在数据库中就需要保存节点的生成Id,也就是需要新添加一个字段
ALTER TABLE `wozi`.`tb_wozi_note_menu` 
ADD COLUMN `e_node_id` VARCHAR(45) NULL AFTER `isDelete`;
update:
应该可以不需要 使用jstree自动生成的Id也可以保证唯一性
ALTER TABLE `wozi`.`tb_wozi_note_menu` 
DROP COLUMN `e_node_id`;

将主键字段长度加长
ALTER TABLE `wozi`.`tb_wozi_note_menu` 
CHANGE COLUMN `id` `id` VARCHAR(100) NOT NULL ;
同样parent也需要加长
ALTER TABLE `wozi`.`tb_wozi_note_menu` 
CHANGE COLUMN `parent` `parent` VARCHAR(100) NULL DEFAULT '#' ;


<!-- 2016-12-19 end -->